<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harry Potter Books</title>
</head>
<body>

    <h1>Harry Potter Books</h1>

    <ul id="list"></ul>
    
    <script>

    //  https://www.googleapis.com/books/v1/volumes?q=search+terms&key=

    // Google Books API key
    let key = //hidden//
    let url = "https://www.googleapis.com/books/v1/volumes?q=Harry+Potter&key=" + key;  

    // Fetch data from the "Google Books API"
    fetch(url)
        .then(response => {
            console.log(response);
            return response.json();
        })
        .then(json => {
            console.log(json);

            // Get the unordered list element to display the books
            let list = document.getElementById("list");
            let items = json.items;

            // Loop through each book item in the response 
            items.forEach(item => {

                console.log(item);
                console.log(item.volumeInfo.title);
                console.log(item.volumeInfo.authors);
                console.log(item.volumeInfo.imageLinks.smallThumbnail);
                console.log(item.volumeInfo.previewLink);
                
                // Create a "list item" for each book title, author, thumbnail, and preview link
                let li = "<li>" +
                    "<h2>" + item.volumeInfo.title + "</h2>" +
                    "<p>Author: " + (item.volumeInfo.authors ? item.volumeInfo.authors[0] : '') + "</p>" +
                    "<img src='" + item.volumeInfo.imageLinks.smallThumbnail + "'>" +
                    "<a href='" + item.volumeInfo.previewLink + "'>" + item.volumeInfo.previewLink + "</a>" +
                    "</li>";




                /*
                let li2 = "<li>" + 
                    "<h2>" + item.volumeInfo.title + "</h2>" +
                    "<p>Author: ";
                if(item.volumeInfo.authors)
                {
                    li2 += item.volumeInfo.authors[0];
                }
                li2 += "</p>" +
                    "</li>";
                */




                // Append the list item to the unordered list
                list.innerHTML += li;

            });



        });

    </script>

    
</body>
</html>